"use strict";var xAuth=0;firebase.auth().onAuthStateChanged(function(user){if(user){xAuth=1;$("body").append("\n        <button onclick=\"funEditAdmin()\" style=\"\n            position : fixed;\n            left: 20px;\n            bottom: 20px ;\n            z-index: 3;\n            border: 2px solid tomato;\n            background-color: transparent;\n            color: tomato;\n            font-size: 25px;\n        \">\n        <i class=\"icofont-edit\"></i>\n        </button>\n        ")}else{xAuth=0;$("body").append("\n        <button onclick=\"funEditAdmin(this)\" style=\"\n            position : fixed;\n            left: 20px;\n            bottom: 20px;\n            z-index: 3;\n            border: 2px solid tomato;\n            background-color: transparent;\n            color: tomato;\n            font-size: 25px;\n        \">\n        <i class=\"icofont-edit\"></i>\n        </button>\n        ")}});var academicYear;if(location.href.includes("literature-of-history.web.app")||location.href.includes("mycollage/public")){academicYear="\u0631\u0627\u0628\u0639\u0647 \u062A\u0627\u0631\u064A\u062E";console.log("".concat(location.host))}else{academicYear="\u0627\u0644\u0635\u0641 \u0627\u0644\u062B\u0627\u0644\u062B \u0627\u0644\u062A\u062C\u0627\u0631\u0649";console.log("".concat(location.host))}var getDataBases;var sections;var questions;var questionsId=[];var counter=0;var getQuestion;var varGetDataBase;var curentSection;var wrongAnswer=0;var trueAnswer=0;var arrayForShowAnswers=[];if(localStorage.getItem("UniqId")==null){localStorage.setItem("UniqId",funUniqId())}var UniqId=localStorage.getItem("UniqId");var xNavigator=navigator.userAgent.replace(/[ \;\/\(\-\.\,\)]/g,"");firebase.database().ref("student/"+academicYear).once("value").then(function(x){getDataBases=x.val();StartHomePage();$("#wait-page").remove()});var xSetTimeOut;$(window).on("animationstart",function(){clearTimeout(xSetTimeOut);$("body").css({"overflow":"hidden"})});$(window).on("animationend",function(){xSetTimeOut=setTimeout(function(){$("body").css({"overflow":"initial"})},3000)});function StartHomePage(){sendDataAnalythesStart();$("#question").hide();$("#home-page").show();$("#home-page .enter").html("");var i=0;for(var getDataBase in getDataBases){i=i+.5;$("#home-page .enter").append("<button style=\"animation-duration: ".concat(i,"s;\" onclick=\"funSectionPage('").concat(getDataBase,"')\" class=\"btn-start-home btn btn-primary btn-block animate__animated animate__backInLeft\"> ").concat(AF(getDataBase)," </button>"))}}function sendDataAnalythesStart(){if(localStorage.getItem(academicYear)==null){localStorage.setItem(academicYear,0)}else{localStorage.setItem(academicYear,Number(localStorage.getItem(academicYear))+1)}var xDate=Date.now();var ObjectXDate={};ObjectXDate[xDate]=localStorage.getItem(academicYear);database.ref("analysis/"+academicYear+"/"+xNavigator+"/"+UniqId+"/start").update(ObjectXDate)}var checkAnimatedEndForFunSectionPage=0;function funSectionPage(x){checkAnimatedEndForFunSectionPage=0;$(".btn-start-home").removeClass("animate__animated");$(".btn-start-home").removeClass("animate__backInLeft");$(".btn-start-home").addClass("animate__animated");$(".btn-start-home").addClass("animate__backOutRight");$(".btn-start-home").on("animationend",function(){$(".btn-start-home").removeClass("animate__animated");$(".btn-start-home").removeClass("animate__backOutRight");insertSectionPage(x)});setTimeout(function(){insertSectionPage(x)},1000)}function insertSectionPage(x){if(checkAnimatedEndForFunSectionPage==0){checkAnimatedEndForFunSectionPage=1;sections=getDataBases[x];varGetDataBase=x;$("#home-page .enter").html("");var i=.5;$("#home-page .enter").append("<button style=\"animation-duration: ".concat(i,"s;\" onclick=\"funQuestionHover()\" class=\"btn-section-page btn btn-success btn-block animate__animated animate__backInLeft\">\u0627\u0633\u0626\u0644\u0629 \u0628\u0634\u0643\u0644 \u0633\u0631\u064A\u0639</button><br />"));for(var section in sections){i=i+.07;checkIfNullCurentSection(section);$("#home-page .enter").append("<button style=\"animation-duration: ".concat(i,"s;\" onclick=\"funQuestion('").concat(section,"')\" class=\"btn-section-page btn btn-primary btn-block animate__animated animate__backInLeft\">\n            ").concat(AF(section),"\n            <span class=\"badge badge-light\">").concat(localStorage.getItem(section),"</span>\n            </button>"))}$("#home-page .enter").append("<button style=\"animation-duration: ".concat(i,"s;\" onclick=\"StartHomePage()\" class=\"btn-go-back bg-danger animate__animated animate__zoomInUp\"> <i class=\"icofont-sign-out\"></i> </button>"))}}var checkAnimatedEndForFunQuestion=0;function funQuestion(x){checkAnimatedEndForFunQuestion=0;$(".btn-section-page").removeClass("animate__animated");$(".btn-section-page").removeClass("animate__backInLeft");$(".btn-section-page").addClass("animate__animated");$(".btn-section-page").addClass("animate__backOutRight");$(".btn-section-page").on("animationend",function(){$(".btn-section-page").removeClass("animate__animated");$(".btn-section-page").removeClass("animate__backOutRight");funQuestion2(x)});setTimeout(function(){funQuestion2(x)},1000)}function funQuestion2(x){if(checkAnimatedEndForFunQuestion==0){checkAnimatedEndForFunQuestion=1;wrongAnswer=0;trueAnswer=0;getQuestionsIdInArray(x);isRandomQuestionsBySuccess(x);console.log(x);$("#question").show();$("#home-page").hide();funinsertQuestion()}}function checkIfNullCurentSection(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:curentSection;if(localStorage.getItem(x)==null){localStorage.setItem(x,0)}}function isRandomQuestionsBySuccess(x){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;curentSection=x;checkIfNullCurentSection();if(Number(localStorage.getItem(curentSection))>=a){questionsId=funRandom(questionsId)}}function funinsertQuestion(){$("#transparency").hide();$("#question .enter").html("");getQuestion=questions[questionsId[counter]];var getAnswerLength=getQuestion.answers.length;var isEnglish=getQuestion.question.search(/[abcdefghijklmnopqrstuvwxyz]/g);if(isEnglish==-1){$("body").css("text-align","right");$("body").attr("dir","rtl")}else{$("body").css("text-align","left");$("body").attr("dir","ltr");getQuestion.question=getQuestion.question.replace(/؟/g,"?")}console.log("aaaaaa ".concat(isEnglish));if(getQuestion.question.includes("!!!")){flashCardQuestion()}else{if(getAnswerLength==1){questionComplete()}else{questionOptional()}}$(".progress .progress-bar").css("width",counter/questionsId.length*100+"%")}function flashCardQuestion(){var v=1;$("#question .enter").html("");$("#question .enter").append("<h3 style=\"animation-duration: ".concat(v,"s\" class=\"animate__animated animate__bounceInLeft\">").concat(AF(getQuestion.question).replace(/\!\!\!/g,""),"</h3>"));$("#question .enter").append("<ol></ol>");arrayForShowAnswers=[];for(var a in getQuestion.answers){v=v+.05;arrayForShowAnswers.push(AF(getQuestion.answers[a]));$("#question .enter ol").append("<li style=\"animation-duration: ".concat(v,"s\" class=\"animate__animated animate__bounceInLeft\">------------------------------</li>"))}$("#question .enter").append("<button style=\"animation-duration: ".concat(v,"s\" class='btn-show-anwser btn btn-primary btn-block animate__animated animate__bounceInLeft' onclick='funAnswerFlashCard()'>\u0627\u0638\u0647\u0631 \u0627\u0644\u0627\u062C\u0627\u0628\u0629</button>"))}function funAnswerFlashCard(){$("#transparency").hide();NoteForFlashCard();document.getElementById("show-answer-for-flash-card").play();var v=1;for(var i=0;i<=arrayForShowAnswers.length;i++){v=v+.1;$("#question .enter ol li").eq(i).html("<p  style=\"animation-duration: ".concat(v,"s\" class=\"animate__animated animate__bounceInLeft\">").concat(arrayForShowAnswers[i],"</p>"))}$("#question .enter .btn-show-anwser").remove();$("#question .enter").append("<button class='btn-hide-anwser btn btn-primary btn-block' onclick='funCancelAnswerFlashCard()'>\u0627\u062E\u0641\u0649 \u0627\u0644\u0627\u062C\u0627\u0628\u0629</button>")}function funCancelAnswerFlashCard(){document.getElementById("hide-answer-for-flash-card").play();$("#answer-and-note").remove();$("#question .enter ol li").text("------------------------------");$("#question .enter .btn-hide-anwser").remove();$("#question .enter").append("<button class='btn-show-anwser btn btn-primary btn-block' onclick='funAnswerFlashCard()'>\u0627\u0638\u0647\u0631 \u0627\u0644\u0627\u062C\u0627\u0628\u0629</button>")}function questionComplete(){$("#question .enter").append("<h3 style=\"animation-duration: 1s;\" class=\"animate__animated animate__bounceInUp\"> ".concat(AF(getQuestion.question.replace(/\#/g,"<div class=\"form-group\"><input autocomplete=\"off\" placeholder=\"......................\" id=\"input-answer\" type=\"text\" class=\"form-control\"></div>")),"</h3>"));$("#question .enter").append("<button style=\"animation-duration: 1.05s; \" class='btn btn-primary btn-block animate__animated animate__bounceInUp' onclick='funAnswerComplete(\"".concat(getQuestion.answers[0],"\")'>OK</button>"))}function questionOptional(){var i=1;$("#question .enter").append("<h3 style=\"animation-duration: ".concat(i,"s;\" class=\"animate__animated animate__bounceInUp \">").concat(AF(getQuestion.question.replace(/\#/g,"..........").replace(/(\?\?|؟؟)/g,"\u061F")),"</h3>"));for(var a in isRandomAnswer(getQuestion.answers)){i=i+.05;$("#question .enter").append("<button style=\"animation-duration: ".concat(i,"s; \" class='btn btn-primary btn-block animate__animated animate__bounceInUp' onclick='funAnswerOpitional(this)'>").concat(AF(getQuestion.answers[a]),"</button>"))}}function funAnswerComplete(x){$("#transparency").show();var inputAnswer=funFilterInputs($("#input-answer").val());var inputAnswerArray=inputAnswer.split("").filter(onlyUnique);var realAnswer=funFilterInputs(x);var realAnswerArray=realAnswer.split("").filter(onlyUnique);var validate=0;for(var a in inputAnswerArray){for(var b in realAnswerArray){if(inputAnswerArray[a]==realAnswerArray[b]){validate++}}}if(inputAnswer==realAnswer){funAnswerTure()}else if(realAnswerArray.length>=5){if(validate==realAnswerArray.length||realAnswerArray.length-validate==1||realAnswerArray.length-validate==2||realAnswerArray.length-validate==-1||realAnswerArray.length-validate==-2){funAnswerTure();$("#answer-and-note #p1").text("\u0627\u0643\u064A\u062F \u0643\u0646\u062A \u062A\u0631\u064A\u062F \u0627\u0646 \u062A\u0643\u062A\u0628 :")}else{funAnswerFalse()}}else{if(validate==realAnswerArray.length){funAnswerTure();$("#answer-and-note #p1").text("\u0627\u0643\u064A\u062F \u0643\u0646\u062A \u062A\u0631\u064A\u062F \u0627\u0646 \u062A\u0643\u062A\u0628 :")}else{funAnswerFalse()}}}function funAnswerOpitional(x){$("#transparency").show();if($(x).text()==AF(getQuestion.answer)){funAnswerTure()}else{wrongAnswer++;funAnswerFalse()}}function checkAllAnswer(x){var y=AF(x).includes("\u062C\u0645\u064A\u0639")&&AF(x).includes("\u0633\u0628\u0642");if(y||AF(x.replace(/ /g,""))=="\u0635\u062D"||AF(x.replace(/ /g,""))=="\u062E\u0637\u0623"){return true}else{return false}}function isRandomAnswer(x){if(x.some(checkAllAnswer)){return x}else{var y=funRandom(x);return y}}function funAnswerTure(){trueAnswer++;$("body").append("\n    <div id=\"answer-and-note\" style=\"animation-duration:1s\" class= \"text-center bg-success animate__animated animate__bounceInUp\">\n        <p class=\"animate__animated animate__bounceInUp\" style=\"animation-duration:1.05s\" id=\"p1\">\u0627\u062D\u0633\u0646\u062A \u0627\u0644\u0627\u062C\u0627\u0628\u0647 \u0647\u0649</p>\n        <p class=\"animate__animated animate__bounceInUp\" style=\"animation-duration:1.1s\" id=\"p2\">".concat(AF(getQuestion.answer)," ").concat(AF(getQuestion.note),"</p>\n        <button class=\"btn-next animate__animated animate__bounceInUp\" style=\"animation-duration:1.15s\" onclick=\"funNext()\"><i class=\"icofont-rounded-left\"></i></button>\n    </div>\n    "));document.getElementById("right_answer").play()}function funAnswerFalse(){wrongAnswer++;$("body").append("\n    <div id=\"answer-and-note\" style=\"animation-duration:1s\" class= \"text-center bg-danger animate__animated animate__bounceInUp\">\n        <p class=\"animate__animated animate__bounceInUp\" style=\"animation-duration:1.05s\" id=\"p1\">\u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0627\u0644\u0627\u062C\u0627\u0628\u0629 \u0627\u0644\u0635\u062D\u064A\u062D\u0647 \u0647\u0649</p>\n        <p class=\"animate__animated animate__bounceInUp\" style=\"animation-duration:1.1s\" id=\"p2\">".concat(AF(getQuestion.answer)," ").concat(AF(getQuestion.note),"</p>\n        <button class=\"btn-next animate__animated animate__bounceInUp\" style=\"animation-duration:1.15s\" onclick=\"funNext()\"><i class=\"icofont-rounded-left\"></i></button>\n    </div>\n    "));questionsId.push(questionsId[counter]);document.getElementById("wrong_answer").play()}function NoteForFlashCard(){$("body").append("\n    <div id=\"answer-and-note\" style=\"animation-duration:1s\" class= \"text-center bg-dark animate__animated animate__bounceInUp\">\n        <p id=\"p2\" class=\"animate__animated animate__bounceInUp\" style=\"animation-duration:1.05s\">\u0647\u0644 \u0643\u0627\u0646\u062A \u0627\u062C\u0627\u0628\u062A\u0643 \u0635\u062D\u064A\u062D\u0647</p>\n        <div class=\"text-center\">\n            <button class=\"btn btn-success animate__animated animate__bounceInRight\" style=\"animation-duration:1.05s\" onclick=\"funNext()\" , >\u0646\u0639\u0645</button>\n            <button class=\"btn btn-danger animate__animated animate__bounceInLeft\" style=\"animation-duration:1.05s\" onclick=\"questionsId.push(questionsId[counter]); funNext()\" , >\u0644\u0627</button>\n        </div>\n    </div>\n    ")}function funNext(){$(".animate__animated").addClass("animate__animated");$(".animate__bounceInLeft").addClass("animate__bounceOutLeft");$(".animate__bounceInRight").addClass("animate__bounceOutRight");$(".animate__bounceInUp").addClass("animate__bounceOutUp");$(".animate__animated").removeClass("animate__animated");$(".animate__bounceInLeft").removeClass("animate__bounceInLeft");$(".animate__bounceInRight").removeClass("animate__bounceInRight");$(".animate__bounceInUp").removeClass("animate__bounceInUp");$(".btn-hide-anwser").addClass("animate__animated");$(".btn-hide-anwser").addClass("animate__animated");$(".btn-hide-anwser").addClass("animate__bounceOutUp");setTimeout(function(){$("#answer-and-note").remove();if(counter==questionsId.length-1){success()}else{counter++}funinsertQuestion()},1000)}$(window).bind("beforeunload",function(){return"\u0647\u0644 \u0627\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u0627\u0644\u062E\u0631\u0648\u062C \u061F"});